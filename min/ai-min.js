var AIAction=function(i){this.movePosition=i,this.minimaxVal=0,this.applyTo=function(i){var a=i.board.squares,r=new Game(a),n=i.board.grid;r.board.buildBoard();for(var o=0;o<n.length;o++)if(n[o].isOccupied()){var e=n[o].getSymbol();r.board.grid[o].setSymbol(e)}var t=r.getCurrentPlayer(),m=this.movePosition;return r.board.update(m,t.symbol),r}};AIAction.ASCENDING=function(i,a){return i.minimaxVal<a.minimaxVal?-1:i.minimaxVal>a.minimaxVal?1:0},AIAction.DESCENDING=function(i,a){return i.minimaxVal>a.minimaxVal?-1:i.minimaxVal<a.minimaxVal?1:0};var minimax=function(i){var a=i.isTerminal(),r=i.score();if(a===!0)return r;var n;n="X"===i.getCurrentPlayer().symbol?-1e3:1e3;for(var o=i.board.grid,e=[],t=0;t<o.length;t++)if(!o[t].isOccupied()){var m=new AIAction(t),l=m.applyTo(i);e.push(l)}for(var t=0;t<e.length;t++){var u=e[t],s=minimax(u);"X"===i.getCurrentPlayer().symbol?s>n&&(n=s):n>s&&(n=s)}return n};